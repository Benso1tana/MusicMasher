â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         MUSIC MASHER ARCHITECTURE                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PRESENTATION LAYER                                   â”‚
â”‚                        (Angular Components)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   TimelineComponent             â”‚    â”‚   ControlsComponent          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Renders track timeline        â”‚    â”‚ â€¢ Play/Pause controls        â”‚   â”‚
â”‚  â”‚ â€¢ Handles drag & drop           â”‚    â”‚ â€¢ Stop button                â”‚   â”‚
â”‚  â”‚ â€¢ Track visualization           â”‚    â”‚ â€¢ Time display               â”‚   â”‚
â”‚  â”‚ â€¢ User interactions             â”‚    â”‚ â€¢ Zoom controls              â”‚   â”‚
â”‚  â”‚ â€¢ Waveform display              â”‚    â”‚ â€¢ Progress bar               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                 â”‚                                     â”‚                      â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                â”‚ Subscribe to                                â”‚
â”‚                                â”‚ Observable<Timeline>                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BUSINESS LOGIC LAYER                                  â”‚
â”‚                         (Angular Services)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    TimelineService                                   â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ State Management & Coordination                                      â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚ â€¢ private timeline: Timeline                                        â”‚    â”‚
â”‚  â”‚ â€¢ private timelineSubject: BehaviorSubject<Timeline>               â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚ Methods:                                                             â”‚    â”‚
â”‚  â”‚  addTrack(file)        â†’ Load & add track                          â”‚    â”‚
â”‚  â”‚  removeTrack(id)       â†’ Delete track                              â”‚    â”‚
â”‚  â”‚  play()                â†’ Start playback                             â”‚    â”‚
â”‚  â”‚  pause()               â†’ Pause playback                             â”‚    â”‚
â”‚  â”‚  stop()                â†’ Stop & reset                               â”‚    â”‚
â”‚  â”‚  seek(time)            â†’ Jump to position                           â”‚    â”‚
â”‚  â”‚  setZoom(level)        â†’ Adjust view                                â”‚    â”‚
â”‚  â”‚  updateTrackVolume()   â†’ Change volume                              â”‚    â”‚
â”‚  â”‚  toggleTrackMute()     â†’ Mute/unmute                                â”‚    â”‚
â”‚  â”‚  toggleTrackSolo()     â†’ Solo/unsolo                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                                â”‚
â”‚                             â”‚ Uses                                           â”‚
â”‚                             â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      AudioService                                    â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ Web Audio API Wrapper                                                â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚ â€¢ private audioContext: AudioContext                                â”‚    â”‚
â”‚  â”‚ â€¢ private masterGainNode: GainNode                                  â”‚    â”‚
â”‚  â”‚ â€¢ private activeSources: Map<string, AudioBufferSourceNode>         â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚ Methods:                                                             â”‚    â”‚
â”‚  â”‚  loadAudioFile(file)   â†’ Decode audio                              â”‚    â”‚
â”‚  â”‚  playTrack(track)      â†’ Start audio playback                       â”‚    â”‚
â”‚  â”‚  playTracks(tracks[])  â†’ Sync multiple tracks                       â”‚    â”‚
â”‚  â”‚  stopAll()             â†’ Stop all audio                             â”‚    â”‚
â”‚  â”‚  stopTrack(id)         â†’ Stop specific track                        â”‚    â”‚
â”‚  â”‚  setMasterVolume()     â†’ Adjust master volume                       â”‚    â”‚
â”‚  â”‚  getWaveformData()     â†’ Extract visualization data                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚                                                â”‚
â”‚                             â”‚ Operates on                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATA LAYER                                         â”‚
â”‚                        (TypeScript Models)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       Timeline                  â”‚    â”‚      AudioTrack              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Properties:                     â”‚    â”‚ Properties:                  â”‚   â”‚
â”‚  â”‚  â€¢ tracks: AudioTrack[]         â”‚    â”‚  â€¢ id: string                â”‚   â”‚
â”‚  â”‚  â€¢ currentTime: number          â”‚    â”‚  â€¢ name: string              â”‚   â”‚
â”‚  â”‚  â€¢ zoom: number                 â”‚    â”‚  â€¢ audioBuffer: AudioBuffer  â”‚   â”‚
â”‚  â”‚  â€¢ isPlaying: boolean           â”‚    â”‚  â€¢ file: File                â”‚   â”‚
â”‚  â”‚  â€¢ bpm: number                  â”‚    â”‚  â€¢ startTime: number         â”‚   â”‚
â”‚  â”‚  â€¢ duration: number             â”‚    â”‚  â€¢ duration: number          â”‚   â”‚
â”‚  â”‚                                 â”‚    â”‚  â€¢ volume: number (0-1)      â”‚   â”‚
â”‚  â”‚ Methods:                        â”‚    â”‚  â€¢ isMuted: boolean          â”‚   â”‚
â”‚  â”‚  â€¢ addTrack(track)              â”‚    â”‚  â€¢ isSolo: boolean           â”‚   â”‚
â”‚  â”‚  â€¢ removeTrack(id)              â”‚    â”‚  â€¢ color: string             â”‚   â”‚
â”‚  â”‚  â€¢ getTrack(id)                 â”‚    â”‚                              â”‚   â”‚
â”‚  â”‚  â€¢ play()                       â”‚    â”‚ Methods:                     â”‚   â”‚
â”‚  â”‚  â€¢ pause()                      â”‚    â”‚  â€¢ setAudioBuffer(buffer)    â”‚   â”‚
â”‚  â”‚  â€¢ stop()                       â”‚    â”‚  â€¢ setStartTime(time)        â”‚   â”‚
â”‚  â”‚  â€¢ setCurrentTime(time)         â”‚    â”‚  â€¢ setVolume(volume)         â”‚   â”‚
â”‚  â”‚  â€¢ setZoom(zoom)                â”‚    â”‚  â€¢ toggleMute()              â”‚   â”‚
â”‚  â”‚  â€¢ updateDuration()             â”‚    â”‚  â€¢ toggleSolo()              â”‚   â”‚
â”‚  â”‚  â€¢ getActiveTracks(time)        â”‚    â”‚  â€¢ getEndTime()              â”‚   â”‚
â”‚  â”‚  â€¢ getSoloTracks()              â”‚    â”‚  â€¢ clone()                   â”‚   â”‚
â”‚  â”‚  â€¢ hasAnySoloTracks()           â”‚    â”‚                              â”‚   â”‚
â”‚  â”‚  â€¢ clear()                      â”‚    â”‚                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DATA FLOW EXAMPLE                                   â”‚
â”‚                      (User Imports and Plays Audio)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User drops audio file
          â†“
2. TimelineComponent.onFileDrop(event)
          â†“
3. TimelineService.addTrack(file)
          â†“
4. AudioService.loadAudioFile(file) â”€â”€â†’ Returns AudioBuffer
          â†“
5. Create new AudioTrack(file)
          â†“
6. track.setAudioBuffer(audioBuffer)
          â†“
7. Timeline.addTrack(track)
          â†“
8. timelineSubject.next(timeline) â”€â”€â†’ Emit state change
          â†“
9. All subscribers receive update
          â†“
10. Components re-render with new state

11. User clicks Play
          â†“
12. ControlsComponent.togglePlayPause()
          â†“
13. TimelineService.play()
          â†“
14. AudioService.playTracks(tracks, currentTime, hasSoloTracks)
          â†“
15. For each active track:
    â€¢ Create AudioBufferSourceNode
    â€¢ Connect to GainNode (volume control)
    â€¢ Connect to MasterGainNode
    â€¢ Start playback at calculated offset
          â†“
16. Start interval timer
          â†“
17. Update timeline.currentTime every 50ms
          â†“
18. timelineSubject.next(timeline) â”€â”€â†’ Emit time updates
          â†“
19. Components update playhead position

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          WEB AUDIO API GRAPH                                  â”‚
â”‚                        (Audio Processing Pipeline)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Track 1 File â”€â”€â†’ AudioBuffer â”€â”€â†’ BufferSourceNode â”€â”€â†’ GainNode â”€â”€â”
                                                      (Volume)     â”‚
                                                                   â”‚
Track 2 File â”€â”€â†’ AudioBuffer â”€â”€â†’ BufferSourceNode â”€â”€â†’ GainNode â”€â”€â”¤
                                                      (Volume)     â”‚
                                                                   â”œâ”€â”€â†’ MasterGainNode â”€â”€â†’ AudioContext.destination
Track 3 File â”€â”€â†’ AudioBuffer â”€â”€â†’ BufferSourceNode â”€â”€â†’ GainNode â”€â”€â”¤                                    â”‚
                                                      (Volume)     â”‚                                    â–¼
                                                                   â”‚                              ğŸ”Š Speakers
Track N File â”€â”€â†’ AudioBuffer â”€â”€â†’ BufferSourceNode â”€â”€â†’ GainNode â”€â”€â”˜
                                                      (Volume)

                 â†‘ Decoding      â†‘ Playback         â†‘ Mixing      â†‘ Master     â†‘ Output

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REACTIVE STATE PATTERN                                â”‚
â”‚                      (Observable-based State Management)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    TimelineService
                          â”‚
                          â”‚ Contains
                          â–¼
              private timeline: Timeline
                          â”‚
                          â”‚ Wrapped in
                          â–¼
    private timelineSubject: BehaviorSubject<Timeline>
                          â”‚
                          â”‚ Exposed as
                          â–¼
       public getTimeline(): Observable<Timeline>
                          â”‚
                          â”‚ Subscribed by
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                       â”‚
              â–¼                       â–¼
    TimelineComponent         ControlsComponent
              â”‚                       â”‚
              â”‚                       â”‚
              â–¼                       â–¼
       Update Track UI          Update Controls UI

    User Action â”€â”€â†’ Service Method â”€â”€â†’ Modify State â”€â”€â†’ Emit Update â”€â”€â†’ UI Re-renders

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          KEY DESIGN PATTERNS                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. SINGLETON PATTERN
   Services are provided in root â†’ Single instance app-wide
   
2. OBSERVER PATTERN
   BehaviorSubject â†’ Observable â†’ Subscribers
   State changes notify all observers
   
3. DEPENDENCY INJECTION
   Services injected into components
   Promotes loose coupling & testability
   
4. FACADE PATTERN
   AudioService wraps complex Web Audio API
   Provides simple interface to components
   
5. MODEL-VIEW-CONTROLLER (MVC)
   Models: Data structures (Timeline, AudioTrack)
   Views: Components & Templates
   Controllers: Services (business logic)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SCALABILITY FEATURES                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ“ Modular Architecture    â†’ Easy to add new features
âœ“ Service Layer           â†’ Business logic separated from UI
âœ“ Type Safety             â†’ TypeScript catches errors early
âœ“ Reactive State          â†’ Automatic UI updates
âœ“ Encapsulation           â†’ Protected internal state
âœ“ Single Responsibility   â†’ Each class has one purpose
âœ“ Open/Closed Principle   â†’ Open for extension, closed for modification
âœ“ Dependency Injection    â†’ Easy testing & mocking

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EXTENSION POINTS                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Want to add:                    Extend:                 By adding:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Audio Effects (Reverb, EQ)  â†’  AudioService        â†’  Effect chain in playTrack()
Waveform Visualization      â†’  AudioService        â†’  getWaveformData() methods
Export to File              â†’  New ExportService   â†’  Mixing & encoding logic
Cut/Copy/Paste              â†’  Timeline Model      â†’  Selection & edit methods
Undo/Redo                   â†’  New HistoryService  â†’  Command pattern
Keyboard Shortcuts          â†’  New KeyboardService â†’  Event handlers
Project Save/Load           â†’  New ProjectService  â†’  Serialization logic

